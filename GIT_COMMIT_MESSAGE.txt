commit: Fix Supabase SDK integration and database schema issues

BREAKING ISSUE FIXED:
- "No API key found in request" error
- "column trades.timestamp does not exist" error

CHANGES:

1. app/api/trades/route.ts (CRITICAL)
   - Fixed GET: use opentime instead of timestamp for ordering
   - Fixed POST: map all 25+ trade fields to correct database columns
   - Added: PATCH handler (was delegating to [id]/route.ts, now works on main route too)
   - Added: DELETE handler (was delegating to [id]/route.ts, now works on main route too)
   - Changed timestamp → opentime throughout
   - All endpoints now properly authenticate with NextAuth
   - All endpoints use Supabase SDK (no direct REST API calls)

2. src/context/TradeContext.tsx
   - Fixed updateTrade(): include id and user_id in PATCH request body
   - Fixed bulkToggleReviewed(): proper field formatting in PATCH requests
   - Ensures all API calls send complete required data

3. migrations/003_fix_trades_schema.sql (NEW - MUST RUN)
   - Removes unused timestamp column
   - Adds opentime as primary timestamp
   - Adds missing columns: closetime, entryprice, exitprice, stoplossprice,
     takeprofitprice, direction, ordertype, session, outcome, resultrr,
     duration, reasonfortrade, strategy, emotion, journalnotes, notes,
     beforescreenshoturl, afterscreenshoturl, commission, swap, pinned,
     tags, reviewed, profitloss, rr, lotsize
   - Safe to run multiple times (uses IF NOT EXISTS)

4. Documentation (NEW)
   - QUICK_START.txt: 5-minute quick start guide
   - SOLUTION_SUMMARY.md: Complete summary with overview
   - IMMEDIATE_FIX.md: Step-by-step instructions
   - SUPABASE_SDK_FIX.md: Detailed technical explanation
   - FIXES_APPLIED.md: Complete changelog with code details

5. Utilities (NEW)
   - src/lib/validateSchema.ts: Schema validation helper
   - scripts/ensure-db-schema.ts: Database schema checker
   - app/api/admin/migrate-schema/route.ts: Admin migration endpoint

ARCHITECTURE:
- Frontend → Next.js API Routes → Supabase SDK → PostgreSQL
- All database operations authenticated via NextAuth session
- No direct REST API calls from browser
- Credentials never exposed to client

TESTING:
Before this fix:
  ❌ Adding trade: "column trades.timestamp does not exist"
  ❌ Updating trade: Missing handler
  ❌ Deleting trade: Missing handler
  ❌ Security: Potential API key exposure

After this fix:
  ✅ All CRUD operations work
  ✅ Proper server-side authentication
  ✅ All database fields properly mapped
  ✅ Secure SDK-based architecture

DEPLOYMENT NOTES:
1. CRITICAL: Run migration in Supabase dashboard
2. Restart application
3. No environment variable changes needed
4. Backward compatible with existing data

MIGRATION REQUIRED:
YES - Must run migrations/003_fix_trades_schema.sql in Supabase SQL Editor
before deploying this code to production.

See: QUICK_START.txt for 5-minute fix instructions
